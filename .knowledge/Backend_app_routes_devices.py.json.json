{"is_source_file": true, "format": "Python", "description": "This file defines Flask route handlers for managing a device inventory. It includes endpoints to list, create, retrieve, update, and delete device records stored in a MongoDB collection. The file uses Flask's MethodView, Flask-Smorest for API documentation, and pymongo for database operations.", "external_files": ["flask", "flask_smorest", "flask.views", "pymongo", "os", "typing"], "external_methods": ["flask.request.get_json", "flask.jsonify", "pymongo.MongoClient"], "published": ["blp_devices", "_get_collection", "_error", "_validate_device_create", "_validate_device_update"], "classes": [{"name": "DevicesList", "description": "Handles listing all devices and creating a new device via GET and POST methods on /devices."}, {"name": "DeviceDetail", "description": "Handles retrieving, updating, and deleting a specific device identified by its name via GET, PUT, DELETE methods on /devices/<name>."}], "methods": [{"name": "get(self)", "description": "Retrieves the list of all devices from MongoDB.", "scope": "DevicesList", "scopeKind": "class"}, {"name": "post(self)", "description": "Creates a new device entry in the MongoDB collection after validating payload and ensuring uniqueness.", "scope": "DevicesList", "scopeKind": "class"}, {"name": "get(self, name: str)", "description": "Retrieves a specific device by name.", "scope": "DeviceDetail", "scopeKind": "class"}, {"name": "put(self, name: str)", "description": "Updates attributes of a device identified by name with provided payload.", "scope": "DeviceDetail", "scopeKind": "class"}, {"name": "delete(self, name: str)", "description": "Deletes a device identified by name from the database.", "scope": "DeviceDetail", "scopeKind": "class"}, {"name": "_error(code: int, message: str)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "_get_collection()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "List[str] _validate_device_create(payload: Dict[str, Any])", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "List[str] _validate_device_update(payload: Dict[str, Any])", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["flask.request.get_json", "jsonify", "_get_collection", "coll.find", "coll.find_one", "coll.insert_one", "coll.update_one", "coll.delete_one"], "search-terms": ["devices.py", "MongoDB device inventory", "Flask MethodView device routes", "device creation and validation", "device update and delete"], "state": 2, "file_id": 15, "knowledge_revision": 40, "git_revision": "", "ctags": [{"_type": "tag", "name": "DeviceDetail", "path": "/home/kavia/workspace/code-generation/device-inventory-6039-5923/Backend/app/routes/devices.py", "pattern": "/^class DeviceDetail(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "DevicesList", "path": "/home/kavia/workspace/code-generation/device-inventory-6039-5923/Backend/app/routes/devices.py", "pattern": "/^class DevicesList(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "MONGO_COLLECTION", "path": "/home/kavia/workspace/code-generation/device-inventory-6039-5923/Backend/app/routes/devices.py", "pattern": "/^MONGO_COLLECTION = os.getenv(\"MONGODB_COLLECTION\", \"devices\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "MONGO_DB", "path": "/home/kavia/workspace/code-generation/device-inventory-6039-5923/Backend/app/routes/devices.py", "pattern": "/^MONGO_DB = os.getenv(\"MONGODB_DB\", \"device_inventory\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "MONGO_URI", "path": "/home/kavia/workspace/code-generation/device-inventory-6039-5923/Backend/app/routes/devices.py", "pattern": "/^MONGO_URI = os.getenv(\"MONGODB_URI\", \"mongodb:\\/\\/localhost:27017\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_error", "path": "/home/kavia/workspace/code-generation/device-inventory-6039-5923/Backend/app/routes/devices.py", "pattern": "/^def _error(code: int, message: str):$/", "language": "Python", "kind": "function", "signature": "(code: int, message: str)"}, {"_type": "tag", "name": "_get_collection", "path": "/home/kavia/workspace/code-generation/device-inventory-6039-5923/Backend/app/routes/devices.py", "pattern": "/^def _get_collection():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_validate_device_create", "path": "/home/kavia/workspace/code-generation/device-inventory-6039-5923/Backend/app/routes/devices.py", "pattern": "/^def _validate_device_create(payload: Dict[str, Any]) -> List[str]:$/", "language": "Python", "typeref": "typename:List[str]", "kind": "function", "signature": "(payload: Dict[str, Any])"}, {"_type": "tag", "name": "_validate_device_update", "path": "/home/kavia/workspace/code-generation/device-inventory-6039-5923/Backend/app/routes/devices.py", "pattern": "/^def _validate_device_update(payload: Dict[str, Any]) -> List[str]:$/", "language": "Python", "typeref": "typename:List[str]", "kind": "function", "signature": "(payload: Dict[str, Any])"}, {"_type": "tag", "name": "blp_devices", "path": "/home/kavia/workspace/code-generation/device-inventory-6039-5923/Backend/app/routes/devices.py", "pattern": "/^blp_devices = Blueprint($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "delete", "path": "/home/kavia/workspace/code-generation/device-inventory-6039-5923/Backend/app/routes/devices.py", "pattern": "/^    def delete(self, name: str):$/", "language": "Python", "kind": "member", "signature": "(self, name: str)", "scope": "DeviceDetail", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/device-inventory-6039-5923/Backend/app/routes/devices.py", "pattern": "/^    def get(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "DevicesList", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/device-inventory-6039-5923/Backend/app/routes/devices.py", "pattern": "/^    def get(self, name: str):$/", "language": "Python", "kind": "member", "signature": "(self, name: str)", "scope": "DeviceDetail", "scopeKind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/device-inventory-6039-5923/Backend/app/routes/devices.py", "pattern": "/^    def post(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "DevicesList", "scopeKind": "class"}, {"_type": "tag", "name": "put", "path": "/home/kavia/workspace/code-generation/device-inventory-6039-5923/Backend/app/routes/devices.py", "pattern": "/^    def put(self, name: str):$/", "language": "Python", "kind": "member", "signature": "(self, name: str)", "scope": "DeviceDetail", "scopeKind": "class"}], "hash": "9f136bfd0de41031dcedb46d3136d9b9", "format-version": 4, "code-base-name": "Backend", "filename": "Backend/app/routes/devices.py", "fields": [{"name": "MONGO_COLLECTION = os.getenv(\"MONGODB_COLLECTION\", \"devices\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "MONGO_DB = os.getenv(\"MONGODB_DB\", \"device_inventory\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "MONGO_URI = os.getenv(\"MONGODB_URI\", \"mongodb:\\/\\/localhost:27017\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "blp_devices = Blueprint(", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"40": ""}]}